var view=function(e){e.drawCurrentSuburb=function(t,o){if(t.above.suburb){e.push();var r=255*(1-o);e.fill(r);var n,i;parseFloat(t.above.kmFromSuburb)<=parseFloat(t.below.kmFromSuburb)?(n=t.above.kmFromSuburb,i=t.above.suburb):(n=t.below.kmFromSuburb,i=t.below.suburb);var a=i;e.textSize(e.windowHeight/9);var l=e.windowHeight/3;e.text(a,l,l),e.pop()}},e.drawTransitTriangle=function(t,o){e.push(),e.fill(t),e.triangle(0,0,0,e.windowHeight,o.x,o.y),e.pop()},e.drawTransitTriangles=function(t){for(var o in t)if(t.hasOwnProperty(o)){var r=t[o],n=r.magnitude*e.windowWidth/2;e.push(),e.fill(r.color),e.triangle(0,0,0,e.windowHeight,n,r.yLevel),e.pop()}},e.drawDebugText=function(t){e.push(),e.fill(0),e.textSize(e.windowHeight/40);var o=e.windowHeight/20;e.text(t,o,o),e.pop()},e.drawTransitCircles=function(t){e.push();for(var o in t)if(t.hasOwnProperty(o)){var r=t[o],n={x:r.magnitude*e.windowWidth,y:r.yLevel},i=r.magnitude*e.windowHeight/3;e.drawCircle(r.color,n,i)}e.pop()},e.drawTransitFigures=function(t){e.push(),e.fill(0);for(var o in t)if(t.hasOwnProperty(o)){var r=t[o],n={x:r.magnitude*e.windowWidth,y:r.yLevel};console.log(r.magnitude);var i=(Math.round(100*r.magnitude*100)/100).toString();e.textSize(e.windowHeight/19);e.windowHeight/3;e.text(i,n.x,n.y)}e.pop()},e.drawTransitArcs=function(t){e.push();for(var o in t)if(t.hasOwnProperty(o)){var r=e.windowWidth/10,n=t[o],i={x:n.magnitude*e.windowWidth,y:n.yLevel},a=n.magnitude*e.windowWidth/2,l=n.magnitude*e.windowHeight/3,d={x:a,y:n.yLevel},w={x:i.x,y:n.yLevel-l/2},u={x:i.x,y:n.yLevel+l/2},s={startControlP:{x:a+r,y:n.yLevel-50},endControlP:{x:i.x-r,y:n.yLevel-l/2}},x={startControlP:{x:a+r,y:n.yLevel+50},endControlP:{x:i.x-r,y:n.yLevel+l/2}};e.noStroke(),e.fill(n.color),e.beginShape(),e.vertex(d.x,d.y),e.bezierVertexPoint(s.startControlP,s.endControlP,w),e.vertexPoint(u),e.bezierVertexPoint(x.endControlP,x.startControlP,d),e.endShape(),e.stroke(255,102,0),e.line(d.x,d.y,s.startControlP.x,s.startControlP.y),e.line(w.x,w.y,s.endControlP.x,s.endControlP.y),e.line(d.x,d.y,x.startControlP.x,x.startControlP.y),e.line(u.x,u.y,x.endControlP.x,x.endControlP.y),e.stroke(0,0,0);var y=20;e.push(),e.fill(0,0,255),e.ellipse(i.x,i.y,y,y),e.pop()}e.pop()}};