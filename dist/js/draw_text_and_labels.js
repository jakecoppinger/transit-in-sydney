var drawTextAndLabels=function(e){e.drawDebugText=function(t){e.push(),e.fill(0),e.textSize(e.windowHeight/40);var i=e.windowHeight/20;e.text(t,i,i),e.pop()},e.drawTransitFigures=function(t,i){e.push(),e.textFont(e.typeface),e.textAlign(e.LEFT,e.CENTER);for(var n in t)if(t.hasOwnProperty(n)){var o=t[n],a=o.magnitude*i.circleDiameterRatio,r=e.windowHeight*o.magnitude/7,d={x:o.magnitude*e.windowWidth+a/1.8,y:o.yLevel+(1-o.percentageRatio)*r},u={x:o.magnitude*e.windowWidth+a/1.8,y:o.yLevel-o.percentageRatio*r},w=255*(1-o.percentageRatio),x=255*o.percentageRatio,p=(Math.round(100*o.interpolatedPercentage*10)/10).toString()+"%",g=Math.round(o.interpolatedCount).toString()+" people";e.textSize(o.magnitude*i.circleDiameterRatio/4),e.fill(w),e.text(p,d.x,d.y),e.fill(x),e.text(g,u.x,u.y)}e.pop()},e.drawModeLabels=function(t){e.push(),e.textFont(e.typeface),e.imageMode(e.CENTER),e.textSize(e.windowHeight/10);for(var i in t)if(t.hasOwnProperty(i)){var n,o=t[i];n=i in e.shorternedModesHash?e.shorternedModesHash[i]:i;var a={x:o.magnitude*e.windowWidth,y:o.yLevel,size:o.magnitude*e.windowWidth/5};e.image(e.images[n],a.x,a.y,dWidth=a.size,dHeight=a.size),e.textAlign(e.RIGHT)}e.pop()},e.drawCurrentSuburb=function(t,i,n,o,a){if(t.above.suburb){e.push(),e.blendMode(n),e.textFont(e.typeface);var r=255-i*o*255;1>a&&(r=255-r),e.fill(r);var d,u;parseFloat(t.above.kmFromSuburb)<=parseFloat(t.below.kmFromSuburb)?(d=t.above.kmFromSuburb,u=t.above.suburb):(d=t.below.kmFromSuburb,u=t.below.suburb);var w;w=u in e.shortenedSuburbsHash?e.shortenedSuburbsHash[u]:u,w+=".",e.textSize(e.windowWidth/7.5),e.textAlign(e.CENTER,e.CENTER);var x={x:e.windowWidth/2,y:e.windowHeight/2};e.text(w,x.x,x.y),e.pop()}},e.drawBottomSlider=function(t){e.push(),e.fill(0);var i={x:t/e.maxDistance*e.windowWidth,y:e.windowHeight-e.windowHeight/15},n=e.minimumWindowSize()/50,o={p1:{x:i.x-n,y:i.y-n},p2:{x:i.x-n,y:i.y+n},p3:{x:i.x,y:i.y}};e.drawTriangle(o),e.textFont(e.typeface);var a=(Math.round(10*t)/10).toString()+"km from CBD";e.fill(125),e.textSize(e.minimumWindowSize()/40),e.textAlign(e.RIGHT,e.CENTER);var r={x:o.p3.x-e.windowWidth/40,y:o.p3.y};e.text(a,r.x,r.y),e.pop()},e.drawVerticalSlider=function(t,i){e.push(),e.fill(0);var n={x:98*e.windowWidth/100,y:e.windowHeight*t.percentageCountRatio},o=e.minimumWindowSize()/50,a={p1:{x:n.x-o,y:n.y},p2:{x:n.x+o,y:n.y},p3:{x:n.x,y:n.y-o}};e.textFont(e.typeface);var r=Math.round(100*t.percentageCountRatio).toString(),d=Math.round(100*(1-t.percentageCountRatio)).toString(),u=r+"% percentage\n"+d+"% absolute";e.fill(125),e.textSize(e.minimumWindowSize()/40);var w={x:a.p3.x-e.windowWidth/40,y:a.p3.y};e.drawTriangle(a),e.textAlign(e.RIGHT,e.CENTER),e.text(u,w.x,w.y),e.pop()},e.drawJakeCoppinger=function(){e.push(),e.textFont(e.typeface),e.fill(220),e.textSize(e.minimumWindowSize()/40);var t={x:3*e.windowWidth/100,y:94*e.windowHeight/100};e.textAlign(e.LEFT,e.BOTTOM),e.textLeading(0),e.text("Jake Coppinger / \n2016",t.x,t.y),e.pop()}};