var view=function(e){e.drawCurrentSuburb=function(r,t){if(r.above.suburb){e.push();var o=255*(1-t);e.fill(o);var n,i;parseFloat(r.above.kmFromSuburb)<=parseFloat(r.below.kmFromSuburb)?(n=r.above.kmFromSuburb,i=r.above.suburb):(n=r.below.kmFromSuburb,i=r.below.suburb);var a=i;e.textSize(e.windowHeight/9);var l=e.windowHeight/3;e.text(a,l,l),e.pop()}},e.drawTransitTriangle=function(r,t){e.push(),e.fill(r),e.triangle(0,0,0,e.windowHeight,t.x,t.y),e.pop()},e.drawTransitTriangles=function(r){for(var t in r)if(r.hasOwnProperty(t)){var o=r[t],n=o.magnitude/e.maxSuburbPercentage*e.windowWidth/5;e.push(),e.fill(o.color),e.triangle(0,0,0,e.windowHeight,n,o.yLevel),e.pop()}},e.drawDebugText=function(r){e.push(),e.fill(0),e.textSize(e.windowHeight/40);var t=e.windowHeight/20;e.text(r,t,t),e.pop()},e.drawTransitCircles=function(r){e.push();for(var t in r)if(r.hasOwnProperty(t)){var o=r[t],n={x:o.magnitude/e.maxSuburbPercentage*e.windowWidth,y:o.yLevel},i=o.magnitude*e.windowHeight;e.drawCircle(o.color,n,i)}e.pop()},e.drawTransitFigures=function(r){e.push(),e.fill(0);for(var t in r)if(r.hasOwnProperty(t)){var o=r[t],n={x:o.magnitude/e.maxSuburbPercentage*e.windowWidth,y:o.yLevel},i=(Math.round(100*o.magnitude*10)/10).toString()+"%";e.textSize(e.windowHeight/19);e.windowHeight/3;e.text(i,n.x,n.y)}e.pop()},e.drawTransitArcs=function(r){e.push();for(var t in r)if(r.hasOwnProperty(t)){var o=e.windowWidth/10,n=r[t],i={x:n.magnitude/e.maxSuburbPercentage*e.windowWidth,y:n.yLevel},a=n.magnitude/e.maxSuburbPercentage*e.windowWidth/5,l=n.magnitude*e.windowHeight,u={x:a,y:n.yLevel},d={x:i.x,y:n.yLevel-l/2},w={x:i.x,y:n.yLevel+l/2},x={startControlP:{x:a+o,y:n.yLevel-50},endControlP:{x:i.x-o,y:n.yLevel-l/2}},b={startControlP:{x:a+o,y:n.yLevel+50},endControlP:{x:i.x-o,y:n.yLevel+l/2}};e.noStroke(),e.fill(n.color),e.beginShape(),e.vertex(u.x,u.y),e.bezierVertexPoint(x.startControlP,x.endControlP,d),e.vertexPoint(w),e.bezierVertexPoint(b.endControlP,b.startControlP,u),e.endShape(),e.stroke(255,102,0),e.line(u.x,u.y,x.startControlP.x,x.startControlP.y),e.line(d.x,d.y,x.endControlP.x,x.endControlP.y),e.line(u.x,u.y,b.startControlP.x,b.startControlP.y),e.line(w.x,w.y,b.endControlP.x,b.endControlP.y),e.stroke(0,0,0);var s=20;e.push(),e.fill(0,0,255),e.ellipse(i.x,i.y,s,s),e.pop()}e.pop()}};