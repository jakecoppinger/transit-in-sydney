var main=function(e){var r,a=-1,o=-1;e.absoluteSuburbs={},e.percentageSuburb={},e.suburbsDistance={},e.maxDistance={},e.dataLoaded=0,e.globalDrawVals={triangleSizeVsArc:.25},e.shortenedSuburbsHash={"Alexandria - Beaconsfield":"Alexandria","The Rocks - Millers Point - Dawes Point":"The Rocks","Erskineville - Eveleigh":"Erskineville","Centennial Park - Moore Park":"Moore Park","Glebe - Forest Lodge":"Glebe","Waterloo - Zetland":"Waterloo"},e.preload=function(){e.typeface=e.loadFont("fonts/Akzidenz Grotesk Pro Med Regular.otf")},e.setup=function(){e.createCanvas(e.windowWidth,e.windowHeight),e.yellow=e.color(222,207,34),e.green=e.color(9,141,68),e.blue=e.color(0,153,202),e.pink=e.color(204,25,119),e.orange=e.color(230,73,35),r=255;var a="data/city_of_sydney_transport_data_2011.json",o=new XMLHttpRequest,t=a;o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var r=JSON.parse(o.responseText);e.parseTransitData(r)}},o.open("GET",t,!0),o.send()},e.draw=function(){if((e.mouseX!=o||e.mouseY!=a)&&1==e.dataLoaded){var t=e.currentMouseDistanceKM(),n=e.nearestPointsToValue(t,e.suburbsDistance),s=n.below.kmFromSuburb,i=n.above.kmFromSuburb,u=s+i,d=n.below.kmFromSuburb/u,l=2*Math.abs(d-.5),b="";b+="fps: "+e.frameRate()+"\n",b+=e.prettyStr(n);var c=e.generateModesObject(t,n,d);e.background(r),e.noStroke(),e.blendMode(e.MULTIPLY),e.drawCurrentSuburb(n,l,e.BLEND,.1,1),e.drawBottomSlider(t),e.drawTransitTriangles(c),e.drawTransitCircles(c),e.drawTransitFigures(c),e.drawTransitArcs(c),e.drawCurrentSuburb(n,l,e.BURN,.7,1),a=e.mouseY,o=e.mouseX}},e.windowResized=function(){e.resizeCanvas(e.windowWidth,e.windowHeight)},e.mouseMoved=function(){},e.prettyStr=function(e){return JSON.stringify(e,null,2)}};