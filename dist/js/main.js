var main=function(e){var r,a=-1,t=-1;e.absoluteSuburbs={},e.percentageSuburb={},e.suburbsDistance={},e.maxDistance={},e.dataLoaded=0,e.setup=function(){e.createCanvas(e.windowWidth,e.windowHeight),e.yellow=e.color(222,207,34),e.green=e.color(9,141,68),e.blue=e.color(0,153,202),e.pink=e.color(204,25,119),e.orange=e.color(230,73,35),r=255;var a="data/city_of_sydney_transport_data_2011.json",t=new XMLHttpRequest,n=a;t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var r=JSON.parse(t.responseText);e.parseTransitData(r)}},t.open("GET",n,!0),t.send()},e.draw=function(){if((e.mouseX!=t||e.mouseY!=a)&&1==e.dataLoaded){var n=e.currentMouseDistanceKM(),o=e.nearestPointsToValue(n,e.suburbsDistance),s=o.below.kmFromSuburb,u=o.above.kmFromSuburb,i=s+u,d=o.below.kmFromSuburb/i,b=2*Math.abs(d-.5),c="";c+="fps: "+e.frameRate()+"\n",c+=e.prettyStr(o);var w=e.generateModesObject(n,o,d);e.background(r),e.noStroke(),e.blendMode(e.MULTIPLY),e.drawDebugText(c),e.drawCurrentSuburb(o,b),e.drawTransitTriangles(w),e.drawTransitCircles(w),e.drawTransitArcs(w),e.drawTransitFigures(w),a=e.mouseY,t=e.mouseX}},e.windowResized=function(){e.resizeCanvas(e.windowWidth,e.windowHeight)},e.mouseMoved=function(){},e.prettyStr=function(e){return JSON.stringify(e,null,2)}};